@import "tailwindcss";

/* Cell fill pop — triggers when a letter first appears in a cell */
@keyframes cell-fill {
  0% {
    opacity: 0;
    transform: scale(0.85);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.cell-fill {
  animation: cell-fill 250ms cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

/* Word completion cascade — sweeps through cells of a finished word */
@keyframes word-complete-sweep {
  0% {
    box-shadow: inset 0 0 0 0 var(--sweep-color, rgba(59, 130, 246, 0.3));
    transform: scale(1);
  }
  50% {
    box-shadow: inset 0 0 12px 2px var(--sweep-color, rgba(59, 130, 246, 0.3));
    transform: scale(1.08);
  }
  100% {
    box-shadow: inset 0 0 0 0 var(--sweep-color, rgba(59, 130, 246, 0.3));
    transform: scale(1);
  }
}

.cell-word-complete {
  animation: word-complete-sweep 400ms cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

@media (prefers-reduced-motion: reduce) {
  .cell-fill,
  .cell-word-complete {
    animation: none;
  }
}

.grid-offset-mobile {
  /* Mobile: compact header ~44px + clue bar 48px + main py-2 16px = ~108px */
  --grid-h-offset: 7rem;
}
@media (min-width: 768px) {
  .grid-offset-mobile {
    /* Desktop: header ~72px + main py-4 32px = ~104px */
    --grid-h-offset: 6.5rem;
  }
}

/* On narrow non-touch (desktop) viewports where the layout is columnar,
   cap the grid height so the clue list below remains visible. */
@media (pointer: fine) and (max-width: 767px) {
  .grid-offset-mobile {
    --grid-h-max: 50dvh;
  }
}

@keyframes cell-reject {
  0%   { box-shadow: inset 0 0 0 0 transparent; transform: translateX(0); }
  10%  { box-shadow: inset 0 0 0 2px rgb(239 68 68); }
  20%  { transform: translateX(-2px); }
  40%  { transform: translateX(2px); }
  60%  { transform: translateX(-1px); }
  80%  { transform: translateX(1px); box-shadow: inset 0 0 0 2px rgb(239 68 68); }
  100% { box-shadow: inset 0 0 0 0 transparent; transform: translateX(0); }
}

.cell-reject {
  animation: cell-reject 400ms ease-out;
}

/* Completion modal — scale-up + fade-in */
@keyframes modal-enter {
  0% {
    opacity: 0;
    transform: scale(0.85);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.modal-enter {
  animation: modal-enter 400ms cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

/* Confetti fall — particles descend and rotate */
@keyframes confetti-fall {
  0% {
    opacity: 1;
    transform: translateY(-20px) rotate(0deg);
  }
  100% {
    opacity: 0;
    transform: translateY(100vh) rotate(720deg);
  }
}

.confetti-particle {
  animation: confetti-fall 3s ease-in both;
}

/* Trophy pulse — gentle scale pulse */
@keyframes trophy-pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.15);
  }
}

.trophy-pulse {
  animation: trophy-pulse 1.5s ease-in-out infinite;
}

@media (prefers-reduced-motion: reduce) {
  .modal-enter,
  .confetti-particle,
  .trophy-pulse {
    animation: none;
  }
}
